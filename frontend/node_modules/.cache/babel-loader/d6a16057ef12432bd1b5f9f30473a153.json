{"ast":null,"code":"import { Blob, seq, struct, u32, u8, u16, ns64 } from 'buffer-layout';\nimport { PublicKey } from '@solana/web3.js';\nimport { I80F48Layout } from '@blockworks-foundation/mango-client';\nimport BN from 'bn.js';\n\nclass PublicKeyLayout extends Blob {\n  constructor(property) {\n    super(32, property);\n  }\n\n  decode(b, offset) {\n    return new PublicKey(super.decode(b, offset));\n  }\n\n  encode(src, b, offset) {\n    return super.encode(src.toBuffer(), b, offset);\n  }\n\n}\n\nexport function publicKeyLayout() {\n  let property = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"\";\n  return new PublicKeyLayout(property);\n}\n\nclass BNLayout extends Blob {\n  constructor(number, property) {\n    super(number, property); // restore prototype chain\n\n    Object.setPrototypeOf(this, new.target.prototype);\n  }\n\n  decode(b, offset) {\n    return new BN(super.decode(b, offset), 10, 'le');\n  }\n\n  encode(src, b, offset) {\n    return super.encode(src.toArrayLike(Buffer, 'le', this['span']), b, offset);\n  }\n\n}\n\nclass U64F64Layout extends Blob {\n  constructor(property) {\n    super(16, property);\n  }\n\n  decode(b, offset) {\n    const raw = new BN(super.decode(b, offset), 10, 'le');\n    return raw / Math.pow(2, 64);\n  }\n\n  encode(src, b, offset) {\n    console.log(\"src ::: \", src);\n    return super.encode(src.toArrayLike(Buffer, 'le', this['span']), b, offset);\n  }\n\n}\n\nexport function I80F48() {\n  let property = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"\";\n  return new I80F48Layout(property);\n}\n_c = I80F48;\nexport function u64() {\n  let property = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"\";\n  return new BNLayout(8, property);\n}\nexport function u128() {\n  let property = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"\";\n  return new BNLayout(16, property);\n}\nexport function i64() {\n  let property = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n  return new BNLayout(8, property, true);\n}\nexport const FUND_DATA = struct([u8('is_initialized'), u8('signer_nonce'), u8('block_deposits'), u8('paused_for_settlement'), u32('no_of_investments'), u32('no_of_pending_withdrawals'), u32('no_of_settle_withdrawals'), u64('min_amount'), I80F48('performance_fee_percentage'), I80F48('total_amount'), I80F48('performance_fee'), I80F48('current_index'), u64('pending_deposits'), u64('pending_withdrawals'), publicKeyLayout('manager_account'), publicKeyLayout('usdc_vault_key'), publicKeyLayout('mango_account'), publicKeyLayout('delegate'), seq(struct([I80F48('share'), u8('ready_for_settlement'), seq(u8('spot'), 15, 'spot'), seq(u8('perp'), 15, 'perp')]), 1, 'forceSettleData')]);\nexport const INVESTOR_DATA = struct([u8('is_initialized'), u8('investment_status'), seq(u8('padding'), 6), u64('amount'), I80F48('start_index'), u64('returns'), publicKeyLayout('owner'), publicKeyLayout('fund'), seq(u8('extra_padding'), 160)]);\nexport const AMM_INFO_LAYOUT_V4 = struct([u64('status'), u64('nonce'), u64('orderNum'), u64('depth'), u64('coinDecimals'), u64('pcDecimals'), u64('state'), u64('resetFlag'), u64('minSize'), u64('volMaxCutRatio'), u64('amountWaveRatio'), u64('coinLotSize'), u64('pcLotSize'), u64('minPriceMultiplier'), u64('maxPriceMultiplier'), u64('systemDecimalsValue'), // Fees\nu64('minSeparateNumerator'), u64('minSeparateDenominator'), u64('tradeFeeNumerator'), u64('tradeFeeDenominator'), u64('pnlNumerator'), u64('pnlDenominator'), u64('swapFeeNumerator'), u64('swapFeeDenominator'), // OutPutData\nu64('needTakePnlCoin'), u64('needTakePnlPc'), u64('totalPnlPc'), u64('totalPnlCoin'), u128('poolTotalDepositPc'), u128('poolTotalDepositCoin'), u128('swapCoinInAmount'), u128('swapPcOutAmount'), u64('swapCoin2PcFee'), u128('swapPcInAmount'), u128('swapCoinOutAmount'), u64('swapPc2CoinFee'), publicKeyLayout('poolCoinTokenAccount'), publicKeyLayout('poolPcTokenAccount'), publicKeyLayout('coinMintAddress'), publicKeyLayout('pcMintAddress'), publicKeyLayout('lpMintAddress'), publicKeyLayout('ammOpenOrders'), publicKeyLayout('serumMarket'), publicKeyLayout('serumProgramId'), publicKeyLayout('ammTargetOrders'), publicKeyLayout('poolWithdrawQueue'), publicKeyLayout('poolTempLpTokenAccount'), publicKeyLayout('ammOwner'), publicKeyLayout('pnlOwner')]);\n\nvar _c;\n\n$RefreshReg$(_c, \"I80F48\");","map":{"version":3,"sources":["/Users/zohebshahzan/code/Solana-2/frontend/src/utils/programLayouts.js"],"names":["Blob","seq","struct","u32","u8","u16","ns64","PublicKey","I80F48Layout","BN","PublicKeyLayout","constructor","property","decode","b","offset","encode","src","toBuffer","publicKeyLayout","BNLayout","number","Object","setPrototypeOf","new","target","prototype","toArrayLike","Buffer","U64F64Layout","raw","Math","pow","console","log","I80F48","u64","u128","i64","FUND_DATA","INVESTOR_DATA","AMM_INFO_LAYOUT_V4"],"mappings":"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","sourcesContent":["import { Blob, seq, struct, u32, u8, u16, ns64 } from 'buffer-layout';\nimport { PublicKey } from '@solana/web3.js';\nimport { I80F48Layout } from '@blockworks-foundation/mango-client';\nimport BN from 'bn.js';\n\n\nclass PublicKeyLayout extends Blob {\n  constructor(property) {\n    super(32, property);\n  }\n\n  decode(b, offset) {\n    return new PublicKey(super.decode(b, offset));\n  }\n\n  encode(src, b, offset) {\n    return super.encode(src.toBuffer(), b, offset);\n  }\n}\n\nexport function publicKeyLayout(property = \"\") {\n  return new PublicKeyLayout(property);\n}\n\nclass BNLayout extends Blob {\n  constructor(number, property) {\n    super(number, property);\n    // restore prototype chain\n    Object.setPrototypeOf(this, new.target.prototype)\n  }\n\n  decode(b, offset) {\n    return new BN(super.decode(b, offset), 10, 'le');\n  }\n\n  encode(src, b, offset) {\n    return super.encode(src.toArrayLike(Buffer, 'le', this['span']), b, offset);\n  }\n}\n\nclass U64F64Layout extends Blob {\n  constructor(property) {\n    super(16, property);\n  }\n\n  decode(b, offset) {\n    const raw = new BN(super.decode(b, offset), 10, 'le');\n\n    return raw / Math.pow(2, 64);\n  }\n\n  encode(src, b, offset) {\n    console.log(\"src ::: \", src)\n    return super.encode(src.toArrayLike(Buffer, 'le', this['span']), b, offset);\n  }\n}\n\nexport function I80F48(property = \"\") {\n  return new I80F48Layout(property)\n}\n\nexport function u64(property = \"\") {\n  return new BNLayout(8, property);\n}\n\nexport function u128(property = \"\") {\n  return new BNLayout(16, property);\n}\n\n\nexport function i64(property = '') {\n  return new BNLayout(8, property, true);\n}\n\nexport const FUND_DATA = struct([\n  u8('is_initialized'),\n  u8('signer_nonce'),\n  u8('block_deposits'),\n  u8('paused_for_settlement'),\n  u32('no_of_investments'),\n  u32('no_of_pending_withdrawals'),\n  u32('no_of_settle_withdrawals'),\n\n  u64('min_amount'),\n  I80F48('performance_fee_percentage'),\n  I80F48('total_amount'),\n  I80F48('performance_fee'),\n  I80F48('current_index'),\n\n  u64('pending_deposits'),\n  u64('pending_withdrawals'),\n\n  publicKeyLayout('manager_account'),\n  publicKeyLayout('usdc_vault_key'),\n  publicKeyLayout('mango_account'),\n  publicKeyLayout('delegate'),\n  seq(\n    struct([\n    I80F48('share'),\n    u8('ready_for_settlement'),\n    seq(u8('spot'), 15, 'spot'),\n    seq(u8('perp'), 15, 'perp'),\n  ]), 1, 'forceSettleData'),\n\n])\n\nexport const INVESTOR_DATA = struct([\n  u8('is_initialized'),\n  u8('investment_status'),\n  seq(u8('padding'), 6),\n\n  u64('amount'),\n  I80F48('start_index'),\n  u64('returns'),\n  publicKeyLayout('owner'),\n  publicKeyLayout('fund'),\n  seq(u8('extra_padding'), 160),\n\n])\n\n\n\nexport const AMM_INFO_LAYOUT_V4 = struct([\n  u64('status'),\n  u64('nonce'),\n  u64('orderNum'),\n  u64('depth'),\n  u64('coinDecimals'),\n  u64('pcDecimals'),\n  u64('state'),\n  u64('resetFlag'),\n  u64('minSize'),\n  u64('volMaxCutRatio'),\n  u64('amountWaveRatio'),\n  u64('coinLotSize'),\n  u64('pcLotSize'),\n  u64('minPriceMultiplier'),\n  u64('maxPriceMultiplier'),\n  u64('systemDecimalsValue'),\n  // Fees\n  u64('minSeparateNumerator'),\n  u64('minSeparateDenominator'),\n  u64('tradeFeeNumerator'),\n  u64('tradeFeeDenominator'),\n  u64('pnlNumerator'),\n  u64('pnlDenominator'),\n  u64('swapFeeNumerator'),\n  u64('swapFeeDenominator'),\n  // OutPutData\n  u64('needTakePnlCoin'),\n  u64('needTakePnlPc'),\n  u64('totalPnlPc'),\n  u64('totalPnlCoin'),\n  u128('poolTotalDepositPc'),\n  u128('poolTotalDepositCoin'),\n  u128('swapCoinInAmount'),\n  u128('swapPcOutAmount'),\n  u64('swapCoin2PcFee'),\n  u128('swapPcInAmount'),\n  u128('swapCoinOutAmount'),\n  u64('swapPc2CoinFee'),\n\n  publicKeyLayout('poolCoinTokenAccount'),\n  publicKeyLayout('poolPcTokenAccount'),\n  publicKeyLayout('coinMintAddress'),\n  publicKeyLayout('pcMintAddress'),\n  publicKeyLayout('lpMintAddress'),\n  publicKeyLayout('ammOpenOrders'),\n  publicKeyLayout('serumMarket'),\n  publicKeyLayout('serumProgramId'),\n  publicKeyLayout('ammTargetOrders'),\n  publicKeyLayout('poolWithdrawQueue'),\n  publicKeyLayout('poolTempLpTokenAccount'),\n  publicKeyLayout('ammOwner'),\n  publicKeyLayout('pnlOwner')\n])"]},"metadata":{},"sourceType":"module"}